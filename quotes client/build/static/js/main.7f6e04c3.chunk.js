(this.webpackJsonpquotes=this.webpackJsonpquotes||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(8),c=a.n(r),s=(a(95),a(13)),l=a(51),i=a.n(l),u=a(18),d=a.n(u),m={save:o.a.createElement("i",{className:"far fa-save"}),twitter:o.a.createElement("i",{className:"fab fa-twitter-square"}),facebook:o.a.createElement("i",{className:"fab fa-facebook"}),close:o.a.createElement("i",{className:"fas fa-times"}),hamberger:o.a.createElement("i",{className:"fas fa-bars"})},f=a(26),p=a(6),_=a(22),E=a.n(_),b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"GET_ERRORS",payload:{msg:e,status:t,id:a}}},O=function(e){return{type:"ERROR",msg:e}},h=function(e){return{type:"USER_ID",id:e}},g=function(e){var t=Ne.getState().auth.token,a={headers:{"Content-type":"application/json"}};return t&&(a.headers["x-auth-token"]=t),a},v=function(e){var t=[d.a.Close,d.a.SideDrawer];e.OpenNav&&(t=[d.a.Open,d.a.SideDrawer]);var a=Object(p.c)((function(e){return e.auth.isAuthenticated})),n=Object(p.b)();return o.a.createElement("div",{className:t.join(" ")},o.a.createElement("div",{onClick:e.togoleFn,className:d.a.esc},m.close),o.a.createElement("ul",{className:d.a.ul},o.a.createElement("li",{onClick:e.togoleFn,className:d.a.navLi},o.a.createElement(f.b,{exact:!0,activeClassName:d.a.active,to:"/"},"quotes")),a?o.a.createElement("li",{onClick:e.togoleFn,className:d.a.navLi},o.a.createElement(f.b,{activeClassName:d.a.active,to:"/myquotes"},"my quotes")):null,a?null:o.a.createElement("li",{onClick:e.togoleFn,className:d.a.navLi},o.a.createElement(f.b,{activeClassName:d.a.active,to:"/login"},"login")),a?o.a.createElement("li",{onClick:function(){n({type:"LOGOUT_SUCCESS"}),e.togoleFn()},className:d.a.navLi},"logout"):null))},y=a(35),S=a.n(y),N=function(e){var t=Object(p.c)((function(e){return e.auth.isAuthenticated})),a={color:e.themeState},n=[S.a.saveValid,S.a.close];return e.display&&(n=[S.a.saveValid,S.a.open]),o.a.createElement("div",{style:a,className:n.join(" ")},o.a.createElement("p",{className:S.a.text},o.a.createElement("i",{className:"fas fa-exclamation-circle"}),t?"saved":"Login to save",o.a.createElement("span",{onClick:e.closeValidHandler,className:S.a.esc},m.close)))},j=a(31),L=a(17),R=a(25),I=a.n(R),C=["#9b1b30","#0d5b5b","#1433a9","#da9e00","#c74375","#4B0082"],x=function(e){return function(t){t({type:"USER_LOADING"}),E.a.delete("https://thawing-badlands-49385.herokuapp.com/api/items/".concat(e),g()).then((function(a){t(q(e)),t({type:"LODING_FINISH"})})).catch((function(e){t(O(e.message)),t({type:"LODING_FINISH"})}))}},q=function(e){return{type:"DELETE_QUOTE_LOCOL",id:e}},w=a(77),k=a.n(w),A=function(e){return o.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%,-50%)"},className:k.a.loader},"Loading...")},D=a(154),T=a(79),G=a.n(T),U=a(80),F=a.n(U),B=a(48),M=a.n(B),V=o.a.memo((function(e){var t,a,r={colorTheme:Object(p.c)((function(e){return e.quote.color})),isLoading:Object(p.c)((function(e){return e.auth.isLoading}))},c=Object(p.b)(),l=Object(n.useState)(""),i=Object(s.a)(l,2),u=i[0],d=i[1],m=Object(n.useState)(""),f=Object(s.a)(m,2),_=f[0],b=f[1],h=Object(n.useState)(!0),v=Object(s.a)(h,2),y=v[0],S=v[1],N=Object(n.useState)(null),j=Object(s.a)(N,2),R=j[0],x=j[1],q=e.saveValidHndler,w=function(e,t){c(function(e,t,a){return function(n){n({type:"USER_LOADING"}),E.a.post("https://thawing-badlands-49385.herokuapp.com/api/items",{quote:e,arther:t,id:Ne.getState().auth.userId},g()).then((function(e){n({type:"LODING_FINISH"}),a()})).catch((function(e){console.log(e.response),n({type:"LODING_FINISH"}),Ne.getState().auth.isAuthenticated?n(O(e.response?e.response.data.msg:e.message)):a()}))}}(e,t,q))};Object(n.useEffect)((function(){c({type:"USER_LOADING"}),E.a.get("https://type.fit/api/quotes").then((function(e){c({type:"LODING_FINISH"});var t=Math.floor(Math.random()*Math.floor(1643));d(e.data[t].text),b(e.data[t].author?e.data[t].author:"not Known")}))}),[y]),Object(n.useEffect)((function(){x(r.isLoading?o.a.createElement(A,null):null)}),[r.isLoading]);return o.a.createElement("div",{className:I.a.quoteBox},R,o.a.createElement(D.a,(t={onClick:function(){return w(u,_)},className:I.a.icon,variant:"contained",color:"primary",size:"large",style:{backgroundColor:r.colorTheme,transition:"background-color 1.5s linear"}},Object(L.a)(t,"className",I.a.button),Object(L.a)(t,"startIcon",o.a.createElement(G.a,null)),t)),o.a.createElement("h1",{className:I.a.quote,style:{color:r.colorTheme}},'"'.concat(u,'"')),o.a.createElement("h1",{className:I.a.source,style:{color:r.colorTheme}},o.a.createElement("span",{style:{fontFamily:"auto"}},"-"),_),o.a.createElement("div",{className:I.a.buttonFlexbox},o.a.createElement("a",{href:"https://twitter.com/intent/tweet?text=".concat(u,"%20").concat(_),style:{backgroundColor:r.colorTheme},className:I.a.button},o.a.createElement(M.a,null)),o.a.createElement(D.a,(a={style:{backgroundColor:r.colorTheme,color:"white",marginLeft:"auto",transition:"background-color 1.5s linear"},className:I.a.newQuote,onClick:function(){S((function(e){return!e})),c({type:"GET_COLOR",color:C[Math.floor(Math.random()*Math.floor(6))]})},variant:"contained",color:"default"},Object(L.a)(a,"className",I.a.button),Object(L.a)(a,"startIcon",o.a.createElement(F.a,null)),a),"new quote")))})),H=a(57),Q=a.n(H),z=a(158),W=a(159),J=a(162),P=a(160),X=a(161),Y=a(167),K=a(36),Z=a.n(K),$=a(81),ee=a.n($),te=function(e){var t=e.rate,a=Object(p.b)(),r=[];r[0]=o.a.createRef(),r[1]=o.a.createRef(),r[2]=o.a.createRef(),r[3]=o.a.createRef(),r[4]=o.a.createRef(),Object(n.useEffect)((function(){r.forEach((function(n,o){return n.current.onclick=function(){var n,c;a((n=e.id,c=o+1,function(e){E.a.put("https://thawing-badlands-49385.herokuapp.com/api/items/".concat(n),{rate:c+""}).catch((function(t){e(O(t.message))}))})),r.forEach((function(e,a){a<=o?(e.current.style.color="gold",e.current.onmouseout=null):e.current.style.color="black",t=o+1}))}})),"2.5"!=t&&r.forEach((function(e,a){return a<t?e.current.style.color="gold":null}))}),[]);var c=function(e){r[e].current.onmouseout=function(){r.forEach((function(a,n){n<=e&&n>t-1||"2.5"==t?a.current.style.color="black":"black"===a.current.style.color&&n<=t&&(a.current.style.color="gold")}))},r.forEach((function(t,a){a<=e?t.current.style.color="gold":"gold"===t.current.style.color&&(t.current.style.color="black")}))};return o.a.createElement("div",{className:ee.a.stars},o.a.createElement("i",{ref:r[0],onMouseOver:function(){return c(0)},class:"fas fa-star"}),o.a.createElement("i",{ref:r[1],onMouseOver:function(){return c(1)},class:"fas fa-star"}),o.a.createElement("i",{ref:r[2],onMouseOver:function(){return c(2)},class:"fas fa-star"}),o.a.createElement("i",{ref:r[3],onMouseOver:function(){return c(3)},class:"fas fa-star"}),o.a.createElement("i",{ref:r[4],onMouseOver:function(){return c(4)},class:"fas fa-star"}))},ae=a(163),ne=Object(z.a)({card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}});function oe(e){var t=["orange","purple","red","blue"][e.colorNum<3?e.colorNum:(e.colorNum+1)%3-1],a=(ne(),Object(p.b)());return o.a.createElement(W.a,{style:{overflow:"unset",marginBottom:"20px"},className:Z.a.card},e.spinner,o.a.createElement(P.a,{className:Z.a.CardContent},o.a.createElement("div",{className:Z.a.avtarFlex},o.a.createElement(Y.a,{style:{backgroundColor:t}},e.arther?e.arther[0]:null),o.a.createElement(X.a,{className:Z.a.avatrText,color:"textPrimary"},e.arther)),o.a.createElement(X.a,{className:Z.a.quote,variant:"h5",component:"h2"},'"'.concat(e.quote,'"'))),o.a.createElement(J.a,{className:Z.a.cardActions},o.a.createElement(te,{rate:e.rate,id:e.id}),o.a.createElement(ae.a,{href:"https://twitter.com/intent/tweet?text=".concat(e.quote,"%20").concat(e.arther),color:"primary",size:"small","aria-label":"add"},o.a.createElement(M.a,null)),o.a.createElement(D.a,{onClick:function(){return a(x(e.id))},style:{marginLeft:"auto"},color:"secondary",variant:"contained",size:"small"},"Deleate")))}var re=function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),i=Object(s.a)(l,2),u=i[0],d=i[1],m=Object(p.b)(),f={quotes:Object(p.c)((function(e){return e.quote.quotes})),isLoading:Object(p.c)((function(e){return e.auth.isLoading})),userId:Object(p.c)((function(e){return e.auth.userId}))};Object(n.useEffect)((function(){m((function(e){e({type:"USER_LOADING"}),E.a.post("https://thawing-badlands-49385.herokuapp.com/api/items/get",{id:Ne.getState().auth.userId}).then((function(t){e({type:"STORE_QUOTES",quotes:t.data}),e({type:"LODING_FINISH"})})).catch((function(t){e({type:"LODING_FINISH"}),e(O(t.message))}))})),localStorage.getItem("token")||d(o.a.createElement(j.a,{to:"/"}))}),[m,f.userId]),Object(n.useEffect)((function(){f.isLoading?c(o.a.createElement(A,{className:Q.a.loding})):c(null)}),[f.isLoading]);var _=f.quotes?f.quotes.map((function(e,t){return o.a.createElement(oe,{spinner:r,id:e._id,quote:e.quote,arther:e.arther,colorNum:t,rate:e.rate})})):null;return 0===_.length&&(_=o.a.createElement("p",{style:{fontSize:"30px"}},"save to see here your quotes")),r&&(_=o.a.createElement("br",null)),Array.isArray(_)&&_.sort((function(e,t){return t.props.rate-e.props.rate})),o.a.createElement("div",{className:Q.a.quoteBox},r," ",u,_||o.a.createElement(oe,null))},ce=a(165),se=a(164),le=a(43),ie=a.n(le),ue=function(e){var t=Object(p.c)((function(e){return e.auth.isAuthenticated})),a=Object(p.c)((function(e){return e.auth.isLoading})),r={msg:Object(p.c)((function(e){return e.err.msg})),status:Object(p.c)((function(e){return e.err.status}))},c=Object(p.b)(),l=Object(n.useState)(""),i=Object(s.a)(l,2),u=i[0],d=i[1],m=Object(n.useState)(""),f=Object(s.a)(m,2),_=f[0],O=f[1],g=Object(n.useState)(!1),v=Object(s.a)(g,2),y=v[0],S=v[1],N=Object(n.useState)(!1),L=Object(s.a)(N,2),R=L[0],I=L[1],C=Object(n.useState)(null),x=Object(s.a)(C,2),q=x[0],w=x[1];Object(n.useEffect)((function(){w(a?o.a.createElement(A,{className:ie.a.loding}):null)}),[a]),Object(n.useEffect)((function(){t&&(localStorage.setItem("route","/login"),I(o.a.createElement(j.a,{to:"/"})))}),[t,R]);var k=function(e,t){"email"===t&&d(e.target.value),"pass"===t&&O(e.target.value)};return o.a.createElement("div",{className:ie.a.Box},R,q,o.a.createElement("form",{className:ie.a.root,noValidate:!0,autoComplete:"off"},o.a.createElement(D.a,{onClick:function(){S((function(e){return!e}))},style:{width:"50%",marginLeft:"auto",marginRight:"auto",marginBottom:"10px"},variant:"contained"},"switch to  ",y?"sign up":"login"),o.a.createElement(se.a,{onChange:function(e){return k(e,"email")},type:"email",id:"filled-basic",label:"email",variant:"filled"}),o.a.createElement(se.a,{onChange:function(e){return k(e,"pass")},style:{marginTop:"5px"},type:"password",id:"outlined-basic",label:"password",variant:"outlined"}),o.a.createElement(D.a,{onClick:function(e){var t,a,n;e.preventDefault(),c(y?function(e,t){return function(a){a({type:"CLEAR_ERRORS"}),a({type:"USER_LOADING"});var n=JSON.stringify({email:e,password:t});E.a.post("https://thawing-badlands-49385.herokuapp.com/api/auth",n,{headers:{"Content-Type":"application/json"}}).then((function(e){a({type:"LOGIN_SUCCESS",payload:e.data}),a(h(e.data.user.id))})).catch((function(e){var t=e.response?e.response:"";t=t.data?t.data:t;var n=e.response?e.response:"";n=n.status?n.status:n,a(b(t,n,"LOGIN_FAIL")),a({type:"LOGIN_FAIL"})}))}}(u,_):(t="user",a=u,n=_,function(e){e({type:"CLEAR_ERRORS"}),e({type:"USER_LOADING"});var o=JSON.stringify({name:t,email:a,password:n});E.a.post("https://thawing-badlands-49385.herokuapp.com/api/user",o,{headers:{"Content-Type":"application/json"}}).then((function(t){e({type:"REGISTER_SUCCESS",payload:t.data}),e(h(t.data.user.id))})).catch((function(t){e(b(t.response.data,t.response.status,"REGISTER_FAIL")),e({type:"REGISTER_FAIL"})}))}))},style:{marginTop:"30px",width:"50%",marginLeft:"auto",marginRight:"auto"},variant:"contained",color:"primary"},y?"Login":"Sign up")),r.msg&&"No token"!==r.msg.msg&&r.status&&401!=r?o.a.createElement(ce.a,{className:ie.a.alert,severity:"error"},"".concat(r.status," ").concat(r.msg.msg)):null)},de=a(166),me=function(){var e=Object(p.b)();Object(n.useEffect)((function(){e((function(e,t){e({type:"CLEAR_ERRORS"}),e({type:"USER_LOADING"}),E.a.get("https://thawing-badlands-49385.herokuapp.com/api/auth/user",g(t)).then((function(t){e({type:"USER_LOADED",payload:t.data}),e(h(t.data._id))})).catch((function(t){e(b(t.response.data,t.response.status)),e({type:"AUTH_ERROR"})}))}))}),[e]);var t,a={colorTheme:Object(p.c)((function(e){return e.quote.color})),errModal:Object(p.c)((function(e){return e.err.genral}))},r=Object(n.useState)(!1),c=Object(s.a)(r,2),l=c[0],u=c[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),_=f[0],O=f[1],y=function(){u((function(e){return!e}))},S=function(){O(!0)};return t=o.a.createElement(j.d,null,o.a.createElement(j.b,{path:"/myquotes",component:re}),o.a.createElement(j.b,{path:"/login",component:ue}),o.a.createElement(j.b,{path:"/",render:function(e){return o.a.createElement(V,Object.assign({},e,{saveValidHndler:S}))}})),o.a.createElement("div",{style:{backgroundColor:a.colorTheme},className:i.a.App},o.a.createElement(de.a,{onClose:function(){return e({type:"ERROR_NULL"})},open:a.errModal},o.a.createElement(ce.a,{className:i.a.alert,severity:"error"},a.errModal)),o.a.createElement(v,{togoleFn:y,OpenNav:l}),o.a.createElement("div",{className:i.a.hamberger,onClick:y},m.hamberger),o.a.createElement(N,{themeState:a.colorTheme,closeValidHandler:function(){O(!1)},display:_}),t)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var fe=a(29),pe=a(23),_e=a(15),Ee={color:"#0d5b5b",isAuth:!0,quotes:[]},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COLOR":return Object(_e.a)({},e,{color:t.color});case"STORE_QUOTES":return Object(_e.a)({},e,{quotes:t.quotes});case"DELETE_QUOTE_LOCOL":return Object(_e.a)({},e,{quotes:Object(pe.a)(e.quotes.filter((function(e){return e._id!==t.id})))});default:return e}},Oe={token:localStorage.getItem("token"),isAuthenticated:null,isLoading:!1,user:null,useId:null},he={msg:{},status:null,id:null,genral:null},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return Object(_e.a)({},e,{msg:t.payload.msg,status:t.payload.status,id:t.payload.id});case"CLEAR_ERRORS":return Object(_e.a)({},e,{msg:{},status:null,id:null});case"ERROR":return Object(_e.a)({},e,{genral:t.msg});case"ERROR_NULL":return Object(_e.a)({},e,{genral:null});default:return e}},ve=Object(fe.c)({quote:be,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ID":return Object(_e.a)({},e,{userId:t.id});case"LODING_FINISH":return Object(_e.a)({},e,{isLoading:!1});case"USER_LOADING":return Object(_e.a)({},e,{isLoading:!0});case"USER_LOADED":return Object(_e.a)({},e,{isAuthenticated:!0,isLoading:!1,user:t.payload});case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(_e.a)({},e,{},t.payload,{isAuthenticated:!0,isLoading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT_SUCCESS":case"REGISTER_FAIL":return localStorage.removeItem("token"),Object(_e.a)({},e,{token:null,user:null,isAuthenticated:!1,isLoading:!1,userId:null});default:return e}},err:ge}),ye=a(82);a.d(t,"store",(function(){return Ne}));var Se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||fe.d,Ne=Object(fe.e)(ve,Se(Object(fe.a)(ye.a))),je=o.a.createElement(p.a,{store:Ne},o.a.createElement(f.a,null,o.a.createElement(me,null)));c.a.render(je,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},18:function(e,t,a){e.exports={SideDrawer:"sideDrawer_SideDrawer__2bCLd",esc:"sideDrawer_esc__zLT7J",navLi:"sideDrawer_navLi__2WluB",Open:"sideDrawer_Open__9tiEB",Close:"sideDrawer_Close__1vIaX",active:"sideDrawer_active__3Jng5",ul:"sideDrawer_ul__19u2d"}},25:function(e,t,a){e.exports={quoteBox:"quoteBox_quoteBox__2sZm-",icon:"quoteBox_icon__2ARBc",quote:"quoteBox_quote__AU47S",source:"quoteBox_source__2DSX5",buttonFlexbox:"quoteBox_buttonFlexbox__31-2c",newQuote:"quoteBox_newQuote__ajqrR",button:"quoteBox_button__1lr80",loding:"quoteBox_loding__I5WGy"}},35:function(e,t,a){e.exports={saveValid:"saveValid_saveValid__1w3e_",open:"saveValid_open__q0RPr",close:"saveValid_close__QwisN",text:"saveValid_text__1kpi2",esc:"saveValid_esc__1Fr1E"}},36:function(e,t,a){e.exports={card:"card_card__pHO54",CardContent:"card_CardContent__2hWEc",avtarFlex:"card_avtarFlex__33nGc",avatrText:"card_avatrText__2Lr0V",quote:"card_quote__2WvdY",cardActions:"card_cardActions__1My2Y",delete:"card_delete__1DUsV"}},43:function(e,t,a){e.exports={Box:"modelLogin_Box__1yQhd",root:"modelLogin_root__3MiS8",alert:"modelLogin_alert__3H1n-"}},51:function(e,t,a){e.exports={App:"App_App__2ezqm",hamberger:"App_hamberger__2BjgS",alert:"App_alert__4IAPk"}},57:function(e,t,a){e.exports={quoteBox:"myQuotes_quoteBox__3tk2t"}},77:function(e,t,a){e.exports={loader:"spinner_loader__1tadP",load1:"spinner_load1__2ul1R"}},81:function(e,t,a){e.exports={stars:"stars_stars__2qnei"}},90:function(e,t,a){e.exports=a(119)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.7f6e04c3.chunk.js.map